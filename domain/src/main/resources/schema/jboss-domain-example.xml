<domain xmlns="urn:jboss:domain:1.0"
        targetNamespace="urn:jboss:domain:1.0"
        xmlns:sec="urn:jboss:security-config:5.0"
        >


    <!-- The domain manager/server bootstrap configuration -->
    <domain-configuration>
        <!-- The URI for bootstraping a domain server -->
        <bootstrapURI>http://bootstrap.uri</bootstrapURI>
    </domain-configuration>

    <extension prefix="xx" module="org.foo:blah"/>

    <profile name="something">
        <subsystem name="ejb"/>
        <subsystem name="war"/>
        <subsystem name="jms"/>
        <subsystem name="xx:fancy"/>
    </profile>

    <profile name="something2" extends="something">
        <subsystem name="additional"/>
    </profile>

    <deployments>
        <deployment name="my-app.ear" sha1="xxx"/>
        <deployment name="my-ejb.jar" sha1="xxx"/>
        <deployment name="my-war.ear" sha1="xxx" start="false"/>
    </deployments>
    
    <interfaces>
        <interface name="default">
            <inet-address value="127.0.0.1"/>
        </interface>
        <interface name="public">
            <not><loopback/></not>
            <point-to-point/>
            <up/>
            <public-address/>
            <private-address/>
            <multicast/>
            <nic name="eth1"/>
            <nic-match value="eth[0-9]+"/>
            <any>
                <subnet-match value="10.0.0.0/8"/>
                <subnet-match value="192.168.0.0/16"/>
            </any>
        </interface>
        <interface name="public2">
            <nic name="eth1"/>
        </interface>
        <!-- require override at the host level -->
        <interface name="public3"/>
    </interfaces>

    <socket-groups>
        <socket-group name="foo">
            <socket name="jndi" port="1099"/>
            <socket name="http" port="8080"/>
            <socket name="https" port="8443"/>
            <socket name="remoting" port="1234"/>
            <socket name="cluster-udp" interface="internal" port="55200" multicast-addr="1.2.3.4"/>
        </socket-group>
        <socket-group name="foo2" extends="foo"/>
    </socket-groups>

    <containers>
        <web-container>
            <http-service>
                <access-log log-directory="domain/web/log"/>

                <http-connector name="httpConnector1" socket="http" protocol="tls" scheme="https" client-auth="true">
                    <ssl cert-nickname="certnick" ssl3-enabled="true" ssl3-tls-ciphers="xxx"/>
                </http-connector>

                <virtual-host name="VirtualServer1" default="true">
                    <host name="foo.com"/>
                    <host address="1.2.3.4"/>
                    <connector name="httpConnector1"/>
                    <connector name="httpConnector1"/>

                    <access-log log-directory="domain/web/log2"/>
                </virtual-host>

            </http-service>
        </web-container>
    </containers>

    <system-properties>
        <property name="prop1" value="value1"/>
        <property name="prop2" value="value2"/>
    </system-properties>

    <server-groups>
        <server-group group-name="group1" profile="something">

            <socket-group name="blah"/>

            <cluster>

            </cluster>

            <jvm name="icedtea1">

                <heap size="512m" max-size="1024m"/>
            </jvm>

            <deployments>
                <deployment name="my-app1.ear" sha1="xxx" start="true"/>
                <deployment name="my-app2.ear" sha1="xxx" start="false"/>
            </deployments>

            <system-properties>
                <properties>
                    <property name="prop1" value="value1"/>
                    <property name="prop2" value="value2"/>
                </properties>
            </system-properties>

        </server-group>
    </server-groups>

</domain>
